# rhashtools-python

파이썬으로 작성된, 특정 디렉토리를 재귀적으로 탐색해 해시를 구하는 코드

## 옵션

| 옵션 | 사용 | 설명 |
|------|------|------|
| `-p`, `--parse`  | `-p [경로]` | `[경로]` 아래의 파일을 모두 탐색하고 파일명-해시를 key-value 쌍으로 변환해 표준출력으로 내보냅니다. |
| `-d`, `--diff`   | `-d [파일명]` | `[파일명]`의 결과를 `parse` 결과와 비교해 표준에러로 내보냅니다. |
| `-o`, `--output` | `-o [파일명]` | parse 결과를 표준출력이 아닌, `[파일명]`으로 저장합니다. |

**왜 `>` 리다이렉션이 있는데 `-o` 옵션이 필요한가요?**

`-o` 옵션은 UTF-8 인코딩으로 파일을 저장하지만 리다이렉션의 경우 그것을 보장하지 않습니다.

이후 저장한 파일을 `-d` 옵션을 통해 가져올 때, UTF-8 로 인코딩된 파일을 읽어오기 때문에 리다이렉션 대신 `-o` 옵션을 통해 파일을 저장해야합니다.

## 사용

```bash
python ./rhashtools.py -p ./
```
`./` 경로의 모든 파일을 탐색해 해시를 구하고, `[파일명]|[해시값]` 의 포맷으로 표준 출력으로 내보냅니다. 

```bash
python ./rhashtools.py -p ./ -o output.txt
```
위 명령과 동일하지만 표준출력으로 내보내는 대신 `output.txt`로 저장합니다.

```bash
python ./rhashtools.py -p ./ -d output.txt
```
`./` 경로의 모든 파일을 탐색해 해시를 구하고 `output.txt`에 저장된 해시 결과를 비교합니다.

파일 추가, 파일 제거, 해시값의 변화를 감지해 표준에러로 내보냅니다.

```bash
python ./rhashtools.py -p ./ -d output.txt > /dev/null
```
위 명령과 동일하지만 `-p` 결과로 나타나는 표준출력을 제거합니다.
